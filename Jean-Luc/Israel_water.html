<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Highcharts Example</title>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <style type="text/css">
        ${demo.css}
    </style>
    <script type="text/javascript">
        $(function () {

            $('#container').highcharts({

                        chart: {
                            type: 'gauge',
                            plotBackgroundColor: null,
                            plotBackgroundImage: null,
                            plotBorderWidth: 0,
                            plotShadow: false
                        },

                        title: {
                            text: 'Israel Desalinated Seawater Production'
                        },

                        pane: {
                            startAngle: -150,
                            endAngle: 150,
                            background: [{
                                backgroundColor: {
                                    linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                                    stops: [
                                        [0, '#FFF'],
                                        [1, '#333']
                                    ]
                                },
                                borderWidth: 0,
                                outerRadius: '109%'
                            }, {
                                backgroundColor: {
                                    linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },
                                    stops: [
                                        [0, '#333'],
                                        [1, '#FFF']
                                    ]
                                },
                                borderWidth: 1,
                                outerRadius: '107%'
                            }, {
                                // default background
                            }, {
                                backgroundColor: '#DDD',
                                borderWidth: 0,
                                outerRadius: '105%',
                                innerRadius: '103%'
                            }]
                        },

                        // the value axis
                        yAxis: {
                            min: 0,
                            max: 400,

                            minorTickInterval: 'auto',
                            minorTickWidth: 1,
                            minorTickLength: 10,
                            minorTickPosition: 'inside',
                            minorTickColor: '#666',

                            tickPixelInterval: 30,
                            tickWidth: 2,
                            tickPosition: 'inside',
                            tickLength: 10,
                            tickColor: '#666',
                            labels: {
                                step: 2,
                                rotation: 'auto'
                            },
                            title: {
                                text: 'million m3'
                            },
                            plotBands: [{
                                from: 20,
                                to: 100,
                                color: '#005f7f' // deep blue
                            }, {
                                from: 100,
                                to: 200,
                                color: '#0085b2' // middle blue
                            }, {
                                from: 200,
                                to: 300,
                                color: '#00bfff' // light blue
                            }]
                        },



                        series: [{
                            name: 'Production',
                            data: [20],
                            //data: [20,100,123,142,148,264],
                            //{name: 'Year',
                            //data: [2005,2006,2007,2008,2009,2010]
                        }]



                    },
                    // Add some life
                    function (chart) {
                            if (!chart.renderer.forExport) {
                                var point = chart.series[0].points[0],
                                    i = 0 ;
                                setInterval(function () {
                                    var newVal,
                                        data_prod=[20,100,123,142,148,264];
                                    newVal = data_prod[i];
                                    i+=1;
                                    if (i > 5 || newVal > 400) {
                                        newVal = data_prod[5];
                                    }

                                    point.update(newVal);

                                }, 1000);
                            }
                    });
        });

    </script>
</head>
<body>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<div id="container" style="min-width: 310px; max-width: 400px; height: 300px; margin: 0 auto"></div>

</body>
</html>
